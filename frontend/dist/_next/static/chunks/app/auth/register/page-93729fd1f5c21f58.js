(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859,983],{1913:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>a,TV:()=>r,p4:()=>n});let l=(0,s(5710).Z0)({name:"auth",initialState:{isAuthenticated:!1},reducers:{setAuth:e=>{e.isAuthenticated=!0},setLogout:e=>{e.isAuthenticated=!1}}}),{setAuth:r,setLogout:n}=l.actions,a=l.reducer},3995:(e,t,s)=>{Promise.resolve().then(s.bind(s,7924)),Promise.resolve().then(s.bind(s,5969)),Promise.resolve().then(s.t.bind(s,6874,23))},5969:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var l=s(5155),r=s(7053),n=s(6961),a=s(6874),i=s.n(a),o=s(5799);function u(){let{email:e,password:t,re_password:s,onChange:a,onSubmit:u}=(0,n.yC)();return(0,l.jsxs)("div",{children:[(0,l.jsx)(r.A,{config:[{labelText:"Email",labelId:"email",type:"email",value:e,required:!0},{labelText:"Password",labelId:"password",type:"password",value:t,required:!0},{labelText:"Confirm password",labelId:"re_password",type:"password",value:s,required:!0}],formHeader:"Register",btnText:"Sign up",onChange:a,onSubmit:u}),(0,l.jsxs)("p",{className:"text-white text-center",children:["Already have an account?"," ",(0,l.jsx)(i(),{href:"/auth/login",className:"text-blue-400 hover:underline",children:"Login here"})]}),(0,l.jsx)(o.N9,{})]})}},6961:(e,t,s)=>{"use strict";s.d(t,{vz:()=>h,Wn:()=>x,p$:()=>p,yC:()=>m});var l=s(2115),r=s(5695),n=s(5799);let{useLoginMutation:a,useLogoutMutation:i,useSignupMutation:o,useCheckQuery:u}=s(8372).l.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>{let{email:t,password:s}=e;return{url:"auth/login",method:"POST",body:{email:t,password:s}}}}),logout:e.mutation({query:()=>({url:"auth/logout",method:"POST"})}),signup:e.mutation({query:e=>{let{email:t,password:s,re_password:l}=e;return{url:"auth/signup",method:"POST",body:{email:t,password:s,re_password:l}}}}),check:e.query({query:()=>"auth/check"})})});var d=s(4540),c=s(1913);function h(){let e=(0,d.wA)(),t=(0,r.useRouter)(),[s,{isLoading:i}]=a(),[o,u]=(0,l.useState)({email:"",password:""}),{email:h,password:m}=o,p=async l=>{l.preventDefault(),s({email:h,password:m}).unwrap().then(()=>{e((0,c.TV)()),n.oR.success("Logged in"),t.push("/dashboard")}).catch(()=>{n.oR.error("Failed to log in")})};return{email:h,password:m,onChange:e=>{let{name:t,value:s}=e.target;u({...o,[t]:s})},onSubmit:p}}function m(){(0,d.wA)();let e=(0,r.useRouter)(),[t,{isLoading:s}]=o(),[a,i]=(0,l.useState)({email:"",password:"",re_password:""}),{email:u,password:c,re_password:h}=a,m=async s=>{s.preventDefault(),t({email:u,password:c,re_password:h}).unwrap().then(()=>{n.oR.success("Please check email to verify account"),e.push("/auth/login")}).catch(()=>{n.oR.error("Failed to register account")})};return{email:u,password:c,re_password:h,onChange:e=>{let{name:t,value:s}=e.target;i({...a,[t]:s})},onSubmit:m}}function p(){let[e,t]=(0,l.useState)([]),[s,r]=(0,l.useState)(!1),n="https://api.nytimes.com/svc/news/v3/content/all/all.json?api-key=".concat("BEy3Udrr5KxVAFA8LCHFt4A5CzGUBSQo");return(0,l.useEffect)(()=>{(async()=>{r(!0);try{let e=await fetch(n,{method:"GET"});if(!e.ok)throw Error("Network response was not ok");let s=await e.json();t(s.results.map(e=>({title:e.title,url:e.url})))}catch(e){}finally{r(!1)}})()},[]),{feed:e,loading:s}}function x(){let e=(0,d.wA)(),t=(0,r.useRouter)(),[s,{isLoading:l}]=i();return{onClick:l=>{l.preventDefault(),s({}).unwrap().then(()=>{e((0,c.p4)()),n.oR.success("Logged out successfully"),t.push("/auth/login")}).catch(()=>{n.oR.error("Failed to log out")})}}}},7053:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var l=s(5155),r=s(6874),n=s.n(r);function a(e){let{labelId:t,type:s,onChange:r,value:a,children:i,link:o,required:u=!1}=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between align-center",children:[(0,l.jsx)("label",{htmlFor:t,className:"block text-sm font-medium leading-6 text-white",children:i}),o&&(0,l.jsx)("div",{className:"text-sm",children:(0,l.jsx)(n(),{className:"font-semibold text-indigo-600 hover:text-indigo-500",href:o.linkUrl,children:o.linkText})})]}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("input",{id:t,className:"w-full p-2 mb-4 border text-white rounded",name:t,type:s,onChange:r,value:a,required:u})})]})}function i(e){let{config:t,formHeader:s,btnText:r,onChange:n,onSubmit:i}=e;return(0,l.jsx)("div",{className:"border-4 border-indigo-500 h-screen flex items-center justify-center",children:(0,l.jsxs)("form",{className:"bg-slate-800 p-6 rounded-lg shadow-lg w-xl",onSubmit:i,children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:s}),t.map(e=>(0,l.jsx)(a,{labelId:e.labelId,type:e.type,onChange:n,value:e.value,required:e.required,children:e.labelText},e.labelId)),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:r})})]})})}},7924:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var l=s(5155),r=s(7053),n=s(6961),a=s(6874),i=s.n(a),o=s(5799);function u(){let{email:e,password:t,onChange:s,onSubmit:a}=(0,n.vz)();return(0,l.jsxs)("div",{children:[(0,l.jsx)(r.A,{config:[{labelText:"Email",labelId:"email",type:"email",value:e,required:!0},{labelText:"Password",labelId:"password",type:"password",value:t,required:!0}],btnText:"Login",formHeader:"Login",onChange:s,onSubmit:a}),(0,l.jsxs)("p",{className:"text-white text-center",children:["New here?"," ",(0,l.jsx)(i(),{href:"/auth/register",className:"text-blue-400 hover:underline",children:"Create an account"})]}),(0,l.jsx)(o.N9,{})]})}},8372:(e,t,s)=>{"use strict";s.d(t,{l:()=>a});var l=s(4317),r=s(404);let n=(0,l.cw)({baseUrl:"http://localhost:5000/api/"}),a=(0,r.xP)({baseQuery:n,tagTypes:["User"],endpoints:e=>({})})}},e=>{var t=t=>e(e.s=t);e.O(0,[404,670,441,684,358],()=>t(3995)),_N_E=e.O()}]);